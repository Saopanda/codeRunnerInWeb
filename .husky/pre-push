# è·å–å½“å‰åˆ†æ”¯å
current_branch=$(git rev-parse --abbrev-ref HEAD)

echo "ğŸ” Running pre-push checks on branch: $current_branch"

# åªåœ¨ cursor åˆ†æ”¯ä¸Šè¿è¡Œæ£€æŸ¥
if [ "$current_branch" != "cursor" ]; then
    echo "â„¹ï¸  Skipping pre-push checks (not on cursor branch)"
    exit 0
fi

echo "ğŸš€ Running comprehensive checks on cursor branch..."

# è¿è¡Œ ESLint æ£€æŸ¥
echo "ğŸ“‹ Running ESLint..."
pnpm lint

# è¿è¡Œæ ¼å¼åŒ–æ£€æŸ¥
echo "ğŸ¨ Checking code formatting..."
pnpm format:check

# è¿è¡Œæµ‹è¯•
echo "ğŸ§ª Running tests..."
pnpm test

echo "âœ… All pre-push checks passed on cursor branch!"
